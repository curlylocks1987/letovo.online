# Модель успешного абитуриента.

Letovo.online. Июль 2023.

## Данные

__feat__: Признаки успешного абитуриента от 25.08.2022 до 01.03.2023. 

Только для тех, __кто залогинился на платформе__.

(во всех полях с тестами, курсами и т.д. NULL - означает, что не присупал)

- `lo_id` - новый ЛО ID (в схемах letovo_online) 
- `first_attempt_avg_score` - средняя оценка за начальные тесты
- `train_count_avg` - кол-во тренировочных попыток в тесте (среднее по всем предметам).
- `final_score_avg` - средняя финальная оценка за тесты
- `train_count_80_avg` - кол-во тренировочных попыток для достижения 80% в тесте (среднее по всем предметам). 
- `oz_done_count` - кол-во решенных ОЗ (с ненулевым баллом)
- `oz_subject_count` - кол-во различных предметов, в которых были набраны баллы ОЗ
- `oz_percent_avg` - средний балл за ОЗ в процентах от максимального балла за задание
- `course_start` - кол-во курсов, в которых отправлено хотя бы одно задание
- `course_50` - кол-во курсов, в которых отправлено хотя бы половина заданий
- `olymp_start` - кол-во олимпиад, в которых отправлено хотя бы одно задание
- `wave_login_first` - уч.год первого логина, 0 - текущий, 1 - предыдущий и т.д.
- `week_first_login_wave` - порядковый номер недели учебного года, когда был первый логин в год первого логина
- `week_first_login_this_year` - порядковый номер недели учебного года, когда был первый логин в этом году
- `grade` - класс ученика в данном учебном году

__claims__: Данные о заявках в школу

- `lo_id` - ID ЛО
- `recomended` - рекомендован к поступлению (без FT)
- `submitted_at` - время отправки заявки в школу


## Задача

Желающие обучаться в школе Летово, а также просто интересующиеся ученики могут проходить различные курсы, олимпиадные задания и тесты на платформе Летово.Онлайн. 

Мы собрали данные о результатах участия детей в различных проектах на Летово.Онлайн и по ним будем пытаться построить скоринговую модель, которая будет стараться выделить потенциально сильных кандидатов среди всех учащихся.

Задача по результатам занятий на ЛО предсказать, что ученик будет рекомендован к поступлению в школу Летово.

Еще точнее нам нужно узнать какие из текущих учеников 5 класса похожи на рекомендованных 6 класса, и так далее для 6 и 7 классов.

__О наших данных__

- Срез данных делается по 01.03.2023 года
- Тесты берем по трем основным предметам (Рус, Англ, Мат) и только базовой сложности

## Используемые библиотеки
*pandas*, *numpy*, *sklearn*, *catboost*, *optuna*, *sqlalchemy*

## Основные выводы

- Выбрана модель CatboostClassifier обученная на данных двух учебных лет с затюнингованными гиперпараметрами в optuna. Она оказалась довольно сильно лучше baseline для базовых гиперпараметров catboost. Eсть надежда, что модель, обученная на последних двух годах, будет более устойчива к колебаниям данных год от года.

- Модель обучалась только на тех учениках, которые подавали заявку в школу. 

- CV показал recall в 40%, при выборе топ 10% процентов по скорингу.

- На всех данных 2022-2023 модель показала recall 85% при выборе 20% всех учеников. Определена граница для отбора учеников в будущем году. 

- Также выполнено предсказание успешности в будущем году (23-24) для 5-7 классов (не показано здесь из-за НДА).